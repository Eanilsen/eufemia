{"data":{"site":{"siteMetadata":{"description":"The DNB Style Guide is the go to place for all who has to design, develop or create visuals with the DNB design."}},"mdx":{"fields":{"title":"Development","header":"UI Library"},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nreturn ((_ref) => {\n  let {\n    components\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return React.createElement(MDXTag, {\n    name: \"wrapper\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"h1\",\n    components: components\n  }, `Development`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `The `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-ui-lib`), ` uses a `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://nodejs.org\"\n    }\n  }, `Node`), ` based setup with a lot of auto generated code to make the `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://reactjs.org\"\n    }\n  }, `React`), ` based components and patterns.`), React.createElement(MDXTag, {\n    name: \"h4\",\n    components: components\n  }, `Why Yarn and not Lerna?`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `The mono repo `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-design-system`), ` uses `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://yarnpkg.com/\"\n    }\n  }, `Yarn`), ` (>= v1.10.1) to maintain the `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://yarnpkg.com/en/docs/workspaces\"\n    }\n  }, `workspace functionality`), `. Instead of using `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `npm link`), ` or `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `yarn link`), `, we use packages. This simplifies the linking and shared modules between `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://docs.npmjs.com/getting-started/packages\"\n    }\n  }, `packages`), `.\nYarn offers a simpler approach to workspaces, but is way more powerful in managing dependencies.`), React.createElement(MDXTag, {\n    name: \"h4\",\n    components: components\n  }, `Install the repo locally on Your machine`), React.createElement(MDXTag, {\n    name: \"pre\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"code\",\n    components: components,\n    parentName: \"pre\",\n    props: {\n      \"className\": \"language-bash\",\n      \"metastring\": \"\"\n    }\n  }, `# Clone the repo into your project working directory\n\\$ git clone https://github.com/dnbexperience/eufemia.git\n\n# Change to the directory\n\\$ cd eufemia\n\n# And install the dependencies\n\\$ yarn install\n\n# Once the installation is done, create a local build\n\\$ yarn build\n\n# Optionally, run the portal locally in watch mode (http://localhost:8000)\n\\$ yarn start\n`)), React.createElement(MDXTag, {\n    name: \"hr\",\n    components: components\n  }), React.createElement(MDXTag, {\n    name: \"h2\",\n    components: components\n  }, `Deploy`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `The steps, from code changes to production builds are:`), React.createElement(MDXTag, {\n    name: \"ol\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `Make Your changes`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `Write tests and test the codebase`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `Update eventually snapshots`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `Commit Your changes with the correct `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"li\"\n  }, `message decoration`)), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `Push or make a Pull Request to the `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"li\",\n    props: {\n      \"href\": \"https://github.com/dnbexperience/eufemia/commits/develop\"\n    }\n  }, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"a\"\n  }, `develop`)), ` branch`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `Wait until the CI Server has validated the commits`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `Make a `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"li\",\n    props: {\n      \"href\": \"https://github.com/dnbexperience/eufemia/compare/master...develop?expand=1\"\n    }\n  }, `Pull Request`)), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `Once the Pull Request will be approved by one of the authored `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"li\",\n    props: {\n      \"href\": \"https://github.com/dnbexperience/eufemia/graphs/contributors\"\n    }\n  }, `repo contributors`), `,`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ol\"\n  }, `the CI Server will deploy the Portal and NPM builds`)), React.createElement(MDXTag, {\n    name: \"h4\",\n    components: components\n  }, `CI Deploy Structure`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Both the Portal (`, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-design-system-portal`), `) and the NPM Package (`, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-ui-lib`), `) gets build by the Deploy Server.\nThe development branch is called `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `origin/develop`), `. All commits will be automatically tested before You can create a new pull request to the `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `origin/master`), ` branch.`), React.createElement(MDXTag, {\n    name: \"h2\",\n    components: components\n  }, `UI Library`), React.createElement(MDXTag, {\n    name: \"h4\",\n    components: components\n  }, `How to make changes`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `To make changes to the code base, You can either do it directly on GitHub with a fork of the Repository, or You can clone the Repository locally on Your computer.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `To test and build Your changes locally, run`), React.createElement(MDXTag, {\n    name: \"pre\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"code\",\n    components: components,\n    parentName: \"pre\",\n    props: {\n      \"className\": \"language-bash\",\n      \"metastring\": \"\"\n    }\n  }, `# In the \\`dnb-ui-lib\\` directory, call:\n\\$ yarn build\n\n# To check if You have to update some test snappshots\n# or to simply validate your changes, run:\n\\$ yarn test\n`)), React.createElement(MDXTag, {\n    name: \"h5\",\n    components: components\n  }, `Committing changes`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Before You commit and push changes, Your code will be tested with both Static and Integration tests. You may make sure to run `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `yarn test`), ` before You try to commit. You may also write new tests for Your code before committing.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `The Code Base is based on several Static Tests to help the code to be uniform:`), React.createElement(MDXTag, {\n    name: \"ul\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `Prettier`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `ESLint`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `StyleLint`)), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `You may consider to install Plugins for You Editor of choice to visualize and run the code formatters and linters based on the defined config files. This way to immediately see how the code have to consist.`), React.createElement(MDXTag, {\n    name: \"h5\",\n    components: components\n  }, `Get started on making new Components and Patterns`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `In the repo `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-ui-lib`), ` find the directory `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `/src/components`), ` or `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `/src/patterns`), `. There You can place a new directory with all the needed sub folders. To get a reference, take a look how the other `, React.createElement(MDXTag, {\n    name: \"em\",\n    components: components,\n    parentName: \"p\"\n  }, `components`), ` and `, React.createElement(MDXTag, {\n    name: \"em\",\n    components: components,\n    parentName: \"p\"\n  }, `patterns`), ` are set up.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Next, we have to `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `pre-publish`), ` the library locally, so we can check the building process and testing our changes by using again `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `yarn build`), `.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `To use the local build, You can either run the Portal, or use `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `yarn link`), ` to link the package with a totally different project.`), React.createElement(MDXTag, {\n    name: \"h5\",\n    components: components\n  }, `What happens on calling `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"h5\"\n  }, `yarn build`), `?`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `There are a lot of different things going on, like:`), React.createElement(MDXTag, {\n    name: \"ul\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `Assets are getting generated`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `All the lib code gets compiled down to ECMAScript 5.1`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `UMD bundle gets created`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `All SASS styles are validated and compiled`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `Code gets minified`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `Icons are getting converted`)), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `A couple of folders and files are generated in the `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-ui-lib`), ` root. They are ignored in the .gitignore file, so they not get a part of the git repo.`), React.createElement(MDXTag, {\n    name: \"h3\",\n    components: components\n  }, `NPM Package`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `These folders/files will be a part of the npm `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://unpkg.com/dnb-ui-lib@latest/\"\n    }\n  }, `package`), `:`), React.createElement(MDXTag, {\n    name: \"ul\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/assets`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/components`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/patterns`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/icons`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/style`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/es`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/umd`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/shared`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `/web-components`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `index.js`)), React.createElement(MDXTag, {\n    name: \"h4\",\n    components: components\n  }, `How to publish a new version to NPM?`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `You have to commit you changes to the `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `origin/develop`), ` branch. Once the build gets approved by the CI Server, You can make a pull request to the the `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `origin/master`), ` branch. All commits (`, React.createElement(MDXTag, {\n    name: \"em\",\n    components: components,\n    parentName: \"p\"\n  }, `pull requests`), `) to master, will be deployed to both the Portal and the NPM Package.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `Make sure You follow `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"strong\",\n    props: {\n      \"href\": \"https://semver.org\"\n    }\n  }, `Semantic Versioning`))), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Version numbers are handled automatically by using `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://github.com/semantic-release/semantic-release#readme\"\n    }\n  }, `semantic-release`), `.\nMake sure to decorate Your `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `commit messages`), ` with either `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://github.com/semantic-release/semantic-release#commit-message-format\"\n    }\n  }, `commit message format`), ` or simply use the following three methods:`), React.createElement(MDXTag, {\n    name: \"ul\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"li\"\n  }, `major: breaking change in API`)), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"li\"\n  }, `minor: this is a new feature`)), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"li\"\n  }, `fix: an example fix message`))), React.createElement(MDXTag, {\n    name: \"h2\",\n    components: components\n  }, `Portal`), React.createElement(MDXTag, {\n    name: \"h5\",\n    components: components\n  }, `UI-LIB Changes`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `The integration of the `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-ui-lib`), ` into the `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-design-system-portal`), ` will happen on the Deploy Server automatically.\nBut You can easily run the build process for that, locally as well. Run `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `yarn build`), ` in `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `dnb-design-system-portal`), ` directory. This will update/create all the needed `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"/eufemia/uilib\"\n    }\n  }, `pages`), `.`), React.createElement(MDXTag, {\n    name: \"h5\",\n    components: components\n  }, `Update Content only`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `In case You make changes to `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `not`), ` `, React.createElement(MDXTag, {\n    name: \"inlineCode\",\n    components: components,\n    parentName: \"p\"\n  }, `ui-lib`), ` related pages, You don't have to run the build process for sure. Simply commit Your changes. But make sure the Markdown is formatted correctly by using Prettier.`));\n});"}}},"pageContext":{"id":"effa0521-7cbe-5fd4-a20a-6eef3831abfc","absPath":"/drone/src/packages/dnb-design-system-portal/src/pages/uilib/development.md","tableOfContents":{"items":[{"url":"#development","title":"Development","items":[{"items":[{"items":[{"url":"#why-yarn-and-not-lerna","title":"Why Yarn and not Lerna?"},{"url":"#install-the-repo-locally-on-your-machine","title":"Install the repo locally on Your machine"}]}]},{"url":"#deploy","title":"Deploy","items":[{"items":[{"url":"#ci-deploy-structure","title":"CI Deploy Structure"}]}]},{"url":"#ui-library","title":"UI Library","items":[{"items":[{"url":"#how-to-make-changes","title":"How to make changes","items":[{"url":"#committing-changes","title":"Committing changes"},{"url":"#get-started-on-making-new-components-and-patterns","title":"Get started on making new Components and Patterns"},{"url":"#what-happens-on-calling-yarn-build","title":"What happens on calling yarn build?"}]}]},{"url":"#npm-package","title":"NPM Package","items":[{"url":"#how-to-publish-a-new-version-to-npm","title":"How to publish a new version to NPM?"}]}]},{"url":"#portal","title":"Portal","items":[{"items":[{"items":[{"url":"#ui-lib-changes","title":"UI-LIB Changes"},{"url":"#update-content-only","title":"Update Content only"}]}]}]}]}]}}}